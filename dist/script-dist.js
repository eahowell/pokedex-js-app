let pokemonRepository=function(){let e=[],t=["name","detailsUrl"];function o(o){"object"==typeof o&&compareArrays(Object.keys(o),t)?e.push(o):console.log("Invalid pokemon object.",o)}function n(){return e}function i(){$("#loader").addClass("visible")}function a(){$("#loader").addClass("invisible")}function s(e){return i(),fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types,e.abilities=t.abilities,a()}).catch(function(e){console.error(e),a()})}return{add:o,getAll:n,addListItem:function e(t,o){let n=$(".pokemon-list"),a=$("<li></li>"),l=$('<button type="button" class="btn pokemonListButton" data-toggle="modal" data-target="#pokemonDetailsModalCenter">'+t.name+"</button>");return a.addClass("list-group-item"),l.on("click",function(e){var o;o=t,i(),s(o).then(function(){var e,t;let n,i,a,s,l,r,p,d,m,c,u,h;e=o.name,t=o,n=$(".modal-body"),i=$(".modal-title"),$(".modal-header"),n.empty(),i.empty(),a=$("<h1>"+t.name+"</h1>"),s=$("<p>Height (dm): "+t.height+"</p>"),l=t.types,r="",l.forEach(function(e){r=r+" - "+e.type.name}),p=$("<p>Types: "+r+"</p>"),d=$("<p>Classification: "+getSizeClassification(t.height)+"</p>"),m=t.abilities,c="",m.forEach(function(e){c=c+" - "+e.ability.name}),u=$("<p>Abilities: "+c+"</p>"),h=$('<img class = "modal-img img-fluid" style = "width: 50%">'),h.attr("src",t.imageUrl),h.attr("alt","Picture of the Pok\xe9mon "+t.name),h.attr("title","Picture of the Pok\xe9mon "+t.name),i.append(a),n.append(h),n.append(s),n.append(p),n.append(d),n.append(u)})}),a.append(l),n.append(a),e},loadList:function e(){return i(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=771").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){o({name:e.name,detailsUrl:e.url}),a()})}).catch(function(e){console.error(e),a()})},loadDetails:s,showLoadingMessage:i,hideLoadingMessage:a}}();function sortPokemonsAlphabetically(){pokemonRepository.showLoadingMessage();let e=pokemonRepository.getAll().sort((e,t)=>e.name.localeCompare(t.name));pokemonRepository.hideLoadingMessage();let t=document.querySelector(".pokemon-list");for(;t.firstChild;)t.removeChild(t.firstChild);e.forEach(function(e){pokemonRepository.addListItem(e)})}function compareArrays(e,t){return e.length===t.length&&e.every((e,o)=>e===t[o])}function getSizeClassification(e){return e<10?"Tiny Size":e>=10&&e<=19?"Medium Size":e>19?"Large Size":"Unclassified Size"}pokemonRepository.loadList().then(function(){sortPokemonsAlphabetically(),pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e);var t=document.createElement("option");t.value=e.name,t.text=e.name,document.getElementById("pokemonsChoice").appendChild(t),pokemonRepository.hideLoadingMessage()})}),document.addEventListener("DOMContentLoaded",function(){function e(){pokemonRepository.showLoadingMessage();let e=document.getElementById("pokemonsChoice").value,t=document.querySelector(".pokemon-list");for(;t.firstChild;)t.removeChild(t.firstChild);("All"===e?pokemonRepository.getAll():pokemonRepository.getAll().filter(t=>t.name===e)).forEach(function(e){pokemonRepository.addListItem(e)}),pokemonRepository.hideLoadingMessage()}document.getElementById("pokemonsChoice").addEventListener("change",e),e()});